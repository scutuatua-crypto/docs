---
title: "Retrieve a Private File (Legacy x402)"
openapi: /pinata-x402-api-v1.yaml get /retrieve/private/{cid}
---

<Warning>
  This is an early beta implementation of the x402 protocol. For production use, please use the [Payment Instructions API](/files/x402-payment-instructions) instead.
</Warning>


## Cost

| Price | Duration |
| ----- | -------- |
| $0.0001 | Per request |

## Example Usage

If you upload a file as `private` then it will not be accessible on public IPFS, so in order to access it you need to create a temporary access URL. This flow is similar to the previous one, except you would provide the CID that you uploded previously that you would like to access. After a successful payment the server will return a URL you can access the file with.

```typescript
import { wrapFetchWithPayment, decodeXPaymentResponse } from "x402-fetch";
import { account } from "./viem";

const fetchWithPayment = wrapFetchWithPayment(fetch, account);

const url =
	"https://402.pinata.cloud/v1/retrieve/private/bafkreih5aznjvttude6c3wbvqeebb6rlx5wkbzyppv7garjiubll2ceym4";

fetchWithPayment(url, {
	method: "GET",
})
	.then(async (response) => {

		const body = (await response.json()) as { url: string };
		console.log(body);

	})
	.catch((error) => {
		console.error(error.response?.data?.error);
	});
```
---
openapi: /pinata-x402-api-v1.yaml get /retrieve/{network}/{cid}
title: Retrieve a File (Legacy x402)
---

This is an early beta implementation of the x402 protocol.  
For production use, please refer to the [Payment Instructions API](/files/x402-payment-instructions).

### üßæ Cost

| Price         | Duration     |
|---------------|--------------|
| $0.10/GB √ó 12 | Temporary access URL |

### üõ†Ô∏è Headers

- `X-PAYMENT: <api-key>` ‚Äî required for payment authorization

### üì¶ Path Parameters

- `network` ‚Äî `public` or `private`
- `cid` ‚Äî the content identifier of the file previously uploaded

### üì§ Response

```json
{
  "url": "https://temporary.pinata.cloud/access-url"
}

### üß™ Example Usage (x402-fetch)
import { wrapFetchWithPayment, decodeXPaymentResponse } from "x402-fetch";
import { account } from "./viem";

const fetchWithPayment = wrapFetchWithPayment(fetch, account);

const url =
  "https://402.pinata.cloud/v1/retrieve/private/bafkreih5aznjvttude6c3wbvqeb6r1x5wkbzyppv7garjiubll2ceym4";

fetchWithPayment(url, {
  method: "GET",
})
  .then(async (response) => {
    const body = (await response.json()) as { url: string };
    console.log(body);
  })
  .catch((error) => {
    console.error(error.response?.data?.error);
  });
